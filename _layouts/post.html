<!DOCTYPE html>
<html lang="{{ page.lang | default: site.lang | default: "en" }}">

{%- include head.html -%}

<body class="xanadu-body">
  
  <!-- Analog Clock - Background Layer -->
  <div class="analog-clock">
    <div class="clock-face">
      <div class="hour-hand"></div>
      <div class="minute-hand"></div>
      <div class="second-hand"></div>
    </div>
  </div>

  <div class="blog-container">
    <header class="blog-header">
      <!-- Mini Clock - Top Left -->
      <a href="{{ "/" | relative_url }}" class="mini-clock-link">
        <div class="mini-clock">
          <div class="mini-clock-face">
            <div class="mini-hour-hand"></div>
            <div class="mini-minute-hand"></div>
            <div class="mini-second-hand"></div>
          </div>
        </div>
      </a>
    </header>

    <main class="blog-content">
      <article class="post">
        <header class="post-header">
          <h1 class="post-title">{{ page.title | escape }}</h1>
          <p class="post-meta">
            {%- assign date_format = site.minima.date_format | default: "%b %-d, %Y" -%}
            {{ page.date | date: date_format }}
            {%- if page.author -%}
              • <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">{{ page.author }}</span></span>
            {%- endif -%}
          </p>
        </header>

        <div class="post-content">
          {{ content }}
        </div>

        <footer class="post-footer">
          <p><a href="{{ "/" | relative_url }}">← Back home</a></p>
        </footer>
      </article>
    </main>
  </div>

  <script>
    // Analog Clock Functionality
    function updateClock() {
      const now = new Date();
      const hours = now.getHours() % 12;
      const minutes = now.getMinutes();
      const seconds = now.getSeconds();
      
      // Calculate angles (360 degrees = full circle)
      const hourAngle = (hours * 30) + (minutes * 0.5); // 30 degrees per hour + minute adjustment
      const minuteAngle = minutes * 6; // 6 degrees per minute
      const secondAngle = seconds * 6; // 6 degrees per second
      
      // Apply rotations to main clock (if it exists)
      const hourHand = document.querySelector('.hour-hand');
      const minuteHand = document.querySelector('.minute-hand');
      const secondHand = document.querySelector('.second-hand');
      
      if (hourHand && minuteHand && secondHand) {
        hourHand.style.transform = `rotate(${hourAngle}deg)`;
        minuteHand.style.transform = `rotate(${minuteAngle}deg)`;
        secondHand.style.transform = `rotate(${secondAngle}deg)`;
      }
      
      // Apply rotations to mini clock
      const miniHourHand = document.querySelector('.mini-hour-hand');
      const miniMinuteHand = document.querySelector('.mini-minute-hand');
      const miniSecondHand = document.querySelector('.mini-second-hand');
      
      if (miniHourHand && miniMinuteHand && miniSecondHand) {
        miniHourHand.style.transform = `rotate(${hourAngle}deg)`;
        miniMinuteHand.style.transform = `rotate(${minuteAngle}deg)`;
        miniSecondHand.style.transform = `rotate(${secondAngle}deg)`;
      }
    }
    
    // Update clock immediately and then every second
    updateClock();
    setInterval(updateClock, 1000); // Update every second
  </script>

</body>
</html> 